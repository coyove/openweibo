<div style="white-space:normal">
{{range $i, $v := .}}
    {{if eq $i 4}}
    <div class="media cell tmpl-light-bg">
        <button
            class=gbutton
            style="display:block;width:100%;height:100%"
            onclick="
            (function(el) {
                el.style.display='none';
                var cells = el.parentNode.querySelectorAll('.media.cell');
                for (var i = 0; i < cells.length; i++) {
                    if (cells[i] !== el)  {
                        cells[i].style.display = null;
                        var img = cells[i].querySelector('img');
                        if (!img.src) img.src = img.getAttribute('data-src');
                    }
                }
            })(this.parentNode)
            ">+ {{sub (len $) 4}}</button>
    </div>
    {{end}}

    {{$hide := ge $i 4}}
    {{if $v}}
    <div class="media cell {{if eq (len $) 1}}large{{end}}" style="{{if $hide}}display:none{{end}}">
        <a target=_blank><img onload="adjustImage(this)" {{if $hide}}data-{{end}}src="{{$v}}"></a>
        <div class=open-blank onclick='window.open("{{$v}}");event.stopPropagation()'><i class="icon-export-alt"></i></div>
        <span class=long-image>长图</span>
    </div>
    {{end}}
{{end}}
</div>
